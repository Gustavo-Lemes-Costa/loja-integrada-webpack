/**
 * Configura√ß√µes do tema da loja
 * Este arquivo declara todas as vari√°veis globais necess√°rias para os componentes do tema
 */

// WhatsApp nos produtos
window.produtoWhatsapp = {
  "mensagem": "Fique √† Vontade! Nossas Solu√ß√µes Est√£o a Um Clique de Dist√¢ncia!.",
  "textoBotao": "Pedido via WhatsApp",
  "ativaListagem": 'sim',
  "ativaProduto": 'sim'
};

// Mensagem do PIX
window.pix = {
  "texto": "Comprou, Pagou no Pix, Economizou!"
};

// Configura√ß√£o do contador regressivo
window.counterTime = {
  "createTimerValue": "04/30/2025"
};

// Configura√ß√£o da oferta regressiva
window.ofertaRegressiva = {
  "menu": true,
  "listagem": true,
  "nomeCategoria": "Super Ofertas",
  "dataFinal": "04/30/2025",
  "tituloSubmenu": "Ofertas Selecionadas da Semana",
  "subTituloSubmenu": "Ofertas de anivers√°rio aproveite! AT√â 30% OFF"
};

// Configura√ß√£o dos t√≠tulos da vitrine
window.titulosVitrine = {
  "destaques": "Ofertas Selecionadas de Anivers√°rio Aproveite Agora!",
  "mais vendidos": "mais vendidos",
  "lancamentos": "Novidade no Site"
};

// Configura√ß√£o da newsletter
window.newsletter = {
  texto: 'Tudo em Portas e Janelas voc√™ encontra aqui! Cadastre-se agora',
  cupom: ' '
};

// Configura√ß√£o da barra de topo
window.barraTopo = {
  "link": "https://linktr.ee/mercosulatendimento",
  "texto": " M√™s de Anivers√°rio Mercosul O frete √© por nossa conta, consulte condi√ß√µes! "
};

// Configura√ß√£o das avalia√ß√µes
window.avaliacoes = [
  {
    "nome": "Carlos Pietro",
    "comentario": "Encontrei a loja pela internet, a janela q eu queria n√£o havia pronta entrega, seria um prazo de 20 dias +- para retirar em loja, mesmo assim fiz a compra pelo site e com 5 dias ap√≥s a compra fui surpreendida com a entrega delas em minha casa. Obrigada, voltarei a comprar.",
    "cidade": "Rio Grande do Sul",
    "url": "#"
  },
  {
    "nome": "Pietra Delffes",
    "comentario": "Super indico a empresa em todos os aspectos.Desde pre√ßo, qualidade e atendimento!!Fui muito bem atendida em todo tempo,o vendedor atendeu todas minhas necessidades sempre que precisei...Ocorreu tudo certo com meu pedido e minha entrega mesmo sendo fora da cidade!!!Agrade√ßo por todo atendimento..",
    "cidade": "S√£o Paulo",
    "url": "#"
  },
  {
    "nome": "Wendell Jaqueline",
    "comentario": "Excelente, √≥timo atendimento, super educados, entrega antes do prazo produto de qualidade e √≥timo pre√ßos parabens",
    "cidade": "Curitiba",
    "url": "#"
  },
  {
    "nome": "Franklin Huebert",
    "comentario": "Atendimento de primeira, condi√ß√µes de pagamento satisfat√≥rias, entrega r√°pida, gostei muito....",
    "cidade": "Rio de Janeiro",
    "url": "#"
  },
  {
    "comentario": "Olha s√≥ tenho elogios, pra essa loja em tudo...s√£o muito bomüëçpre√ßo,atendimento, p√≥s compra, garantia. comprei pelo watsap.,E tudo √© passado certinho ,sem complica√ß√£o, Qualquer coisa resolvo com eles pelo wats msm.",
    "nome": "Andreina Aires",
    "cidade": "Florianopolis/ SC",
    "url": "#"
  },
  {
    "comentario": "Recomendo muito, um excelente lugar para se comprar portas e janelas de alta qualidade por um pre√ßo justo, est√°vamos pesquisando a muito tempo em v√°rios lugares, por√©m nenhum nos chamou a aten√ß√£o devido ao alto pre√ßo e a baixa qualidade, at√© que vimos a Mercosul. Jenelas e portas de alta qualidade, perfis das janelas de aluminio muito bons, pre√ßos muito bons e atendimento nota 10. Devido a √©poca delicada em que estamos passando por conta do covid e a parada das fabricas, a mat√©ria prima ficou escassa, faltando alguns itens para fabrica√ß√£o de janelas e portas, ocasionado atrasos na entrega, um fato compreens√≠vel devido a situa√ß√£o dessa pandemia. Por√©m em nenhum momento a Mercosul nos deixou de responder ou de dar um respaldo da situa√ß√£o, gostaria de deixar um agradecimento especial ao Gerente Comercial Junior que em nenhum momento deixou de nos atender, sempre se mostrando preocupado em resolver o problema e a situa√ß√£o, e sempre com a maior paci√™ncia e educa√ß√£o, por diversas vezes entramos em contato com ele, e sempre obtivemos respostas r√°pidas e aten√ß√£o total, se mostrando interessado em resolver rapidamente e com a aten√ß√£o que o cliente necessita, um √≥timo lugar, e um atendimento nota 10.",
    "nome": "Lucas Zem",
    "cidade": "Curitiba",
    "url": "#"
  },
  {
    "comentario": "Produtos de alta qualidade, perfeitos para minha casa, excelente padr√£o.√ìtimo atendimento. Vendedores super atenciosos e um ambiente muito agrad√°vel e organizado! Recomendo muito a Mercosul portas e janelas. Parab√©ns.",
    "nome": "William Machado",
    "cidade": "Minas Gerais /MG",
    "url": "#"
  }
];

// Configura√ß√£o do menu principal
window.menuPrincipal = {
  "categoriasMenu": 4,
  "tituloMenu": "Todos os departamentos"
};

// Configura√ß√£o do hor√°rio de opera√ß√£o
$(document).ready(function() {
  $('#operation p').html('Seg a Sex das 8:30h √†s 18:00h <br> Sab das 9:00h √†s 13:00h');
});

// Configura√ß√£o do feed do Instagram
window.instagramFeed = {
  "ativa": false,
  "usuario": "mercosulportasejanelas"
};

// Configura√ß√£o do slide de categorias
window.slideCategorias = [
  {
    "imagem": "https://cdn.awsli.com.br/100/100974/arquivos/99364349-janela-integrada-veneziana-esquadrias-brasil-1-00-x-1-20wcis72a6-873-1-600x600.jpg",
    "link": "https://www.mercosulvendas.com.br/janelas--",
    "titulo": "Janelas de Correr"
  },
  {
    "imagem": "https://cdn.awsli.com.br/100/100974/arquivos/478778.png",
    "link": "https://www.mercosulvendas.com.br/portasgiro---",
    "titulo": "Portas de Giro"
  },
  {
    "imagem": "https://cdn.awsli.com.br/100/100974/arquivos/002ef3c22a.png",
    "link": "https://www.mercosulvendas.com.br/portas-externas",
    "titulo": "Portas de Madeira"
  },
  {
    "imagem": "https://cdn.awsli.com.br/100/100974/arquivos/64207135-porta-balcao-3-folhas-de-aluminio-super-25-210x120cm-vidro-liso-pretosku1716-12190-1_zoom-1500x1500.jpg",
    "link": "https://www.mercosulvendas.com.br/portas-de-correr----",
    "titulo": "Portas de Correr"
  },
  {
    "imagem": "https://cdn.awsli.com.br/100/100974/arquivos/15-91_16177.jpg",
    "link": "https://www.mercosulvendas.com.br/vitros",
    "titulo": "Vitros Basculantes"
  },
  {
    "imagem": "https://cdn.awsli.com.br/100/100974/arquivos/D_NQ_NP_727361-MLB45839650165_052021-O.jpg",
    "link": "https://www.mercosulvendas.com.br/acessorios-portas",
    "titulo": "Acess√≥rios para Portas"
  },
  {
    "imagem": "https://cdn.awsli.com.br/100/100974/arquivos/WhatsApp Image 2022-04-04 at 16.40.41.jpg",
    "link": "https://www.mercosulvendas.com.br/seguranca",
    "titulo": "Seguran√ßa"
  },
  {
    "imagem": "https://cdn.awsli.com.br/100/100974/arquivos/capa fechaduras the partner.png",
    "link": "https://www.mercosulvendas.com.br/fechaduras",
    "titulo": "Fechaduras"
  }
];

// Configura√ß√£o do banner mobile
window.fullBannerMobile = [
  {
    "imagem": "https://cdn.awsli.com.br/100/100974/arquivos/portas-e-janelas-personalizadas---mobile.png",
    "link": "https://linktr.ee/mercosulatendimento"
  }
];

// Adicione ap√≥s a configura√ß√£o do fullBannerMobile e SmartHint

// Substitua o formatador de pre√ßos atual por esta vers√£o

import { inicializarFormataPrecos } from './formatadorPrecos.js';

// Inicializar formatador unificado se n√£o estiver na p√°gina do carrinho
if (!window.location.pathname.includes('/carrinho') && 
    !window.location.pathname.includes('/carrinho/index')) {
    document.addEventListener('DOMContentLoaded', function() {
        inicializarFormataPrecos();
    });
}

// Configura√ß√£o do reposicionamento do SmartHint
$(document).ready(function() {
    var interval = setInterval(function() {
        var smart = $('#smarthint-position-1');
        var carrinho = $('form[action="https://www.mercosulvendas.com.br/checkout/redirect/"]');

        if (smart.length && carrinho.length) {
            smart.insertAfter(carrinho);
            clearInterval(interval);
        }
    }, 300);
});

import { createResponsiveImageSection } from './sectionImages.js';

// Configura√ß√£o da se√ß√£o de imagens responsivas
$(document).ready(function() {
    // Tenta criar a se√ß√£o apenas se estiver na p√°gina inicial
    if (window.location.pathname === '/' || window.location.pathname === '/index') {
        // Atrasa ligeiramente para garantir que todos os elementos estejam carregados
        setTimeout(() => {
            // Configura√ß√£o das imagens e links
            const sectionConfig = {
                containerClass: 'new-section',
                mobileImages: [
                    'https://cdn.awsli.com.br/100/100974/arquivos/mobile-1.png',
                    'https://cdn.awsli.com.br/100/100974/arquivos/mobile-2.png',
                    'https://cdn.awsli.com.br/100/100974/arquivos/mobile-4.png',
                    'https://cdn.awsli.com.br/100/100974/arquivos/mobile-5.png'
                ],
                desktopImages: [
                    'https://cdn.awsli.com.br/100/100974/arquivos/desktop-1.png',
                    'https://cdn.awsli.com.br/100/100974/arquivos/desktop-2.png',
                    'https://cdn.awsli.com.br/100/100974/arquivos/desktop-4.png',
                    'https://cdn.awsli.com.br/100/100974/arquivos/desktop-5.png'
                ],
                links: [
                    'https://www.mercosulvendas.com.br/#&search-term=Linha%20Fit%2014',
                    'https://www.mercosulvendas.com.br/#&search-term=Linha%20Classic%2016',
                    'https://www.mercosulvendas.com.br/#&search-term=Linha%20Master%2020',
                    'https://www.mercosulvendas.com.br/#&search-term=Linha%20Maxx%2025'
                ],
                openInNewTab: false, // Links abrem na mesma aba
                borderRadius: '20px',
                gap: '4px'
            };
            
            createResponsiveImageSection(sectionConfig);
        }, 1000);
    }
});

// Adicione antes do console.log('Configura√ß√µes do tema carregadas');

// Carregar o redesign do carrinho
if (window.location.pathname.includes('/carrinho')) {
    // Importar nosso script espec√≠fico para redesign do carrinho
    const script = document.createElement('script');
    script.src = '/js/components/carrinhoRedesign.js';
    document.head.appendChild(script);
    // Caso o script n√£o carregue, execute uma vers√£o embutida
    script.onerror = function() {
        console.log('Erro ao carregar o script do carrinho, usando vers√£o embutida');
        // Cole aqui o conte√∫do do script acima se necess√°rio
    };
}

// Desativar popup do carrinho na vers√£o desktop
$(document).ready(function() {
    // M√©todo 1: Remover completamente o popup usando CSS
    const style = document.createElement('style');
    style.textContent = `
        .carrinho-interno {
            display: none !important;
            pointer-events: none !important;
            opacity: 0 !important;
            visibility: hidden !important;
        }
        
        /* Garantir que o carrinho n√£o mude de apar√™ncia no hover */
        .carrinho > a:hover {
            background-color: inherit !important;
            color: inherit !important;
        }
    `;
    document.head.appendChild(style);
    
    // M√©todo 2: Remover os listeners de eventos que mostram o popup
    const carrinhoElement = document.querySelector('.carrinho');
    if (carrinhoElement) {
        // Remover os listeners que podem existir
        const carrinhoLink = carrinhoElement.querySelector('a');
        if (carrinhoLink) {
            const clone = carrinhoLink.cloneNode(true);
            carrinhoLink.parentNode.replaceChild(clone, carrinhoLink);
        }
        
        // Remover quaisquer listeners jQuery
        $('.carrinho').off('mouseenter mouseleave');
        
        console.log('Popup do carrinho desativado com sucesso');
    }
});

console.log('Configura√ß√µes do tema carregadas');

// Exportamos uma fun√ß√£o para inicializar as vari√°veis, embora elas j√° estejam definidas
// Isso √© √∫til para integra√ß√£o com um sistema modular no futuro
export function inicializarConfigTema() {
  // As configura√ß√µes j√° foram definidas globalmente
  return true;
}